<!-- Pulling inthe header.ejs file not repeat the html,head and navbar on every page-->
<%- include('partials/header') %>

<!-- Pages heading -->
<h2>Edit Post</h2>

<!-- Adding form for editing existing post -->
<!-- Form submits POST request to /edit/:id with updated title and content -->
<form action="/edit/<%= post.id %>" method="POST">
  
  <!-- Validation for error -->
  <% if (error) { %>
    <div class="alert alert-danger"><%= error %></div>
  <% } %>

  <!-- Title input field, prefilled with current post title-->
  <div class="form-group">
    <label for="title">Title</label>
    <input id="title" name="title" class="form-control" value="<%= post.title %>" required />
  </div>

   <!-- Content area, prefilled with current post content-->
  <div class="form-group">
    <label for="content">Content</label>
    <textarea id="content" name="content" rows="5" class="form-control" required><%= post.content %></textarea>
  </div>

   <!-- Adding buttons: Update post and Cancel buttons -->
  <button type="submit" class="btn btn-primary">Update Post</button>
  <a href="/post/<%= post.id %>" class="btn btn-secondary">Cancel</a>
</form>

 <!-- Separate form for delete button, it submits a POST request to /delete/:id and includes confirmationg popup -->
<form action="/delete/<%= post.id %>" method="POST" onsubmit="return confirm('Are you sure you want to delete this post?');" class="mt-3">
  <button type="submit" class="btn btn-danger">Delete Post</button>
</form>


<!-- Pulling in the footer.ejs file, has closing tags, Bootstrap JS, and etc-->
<%- include('partials/footer') %>